# Buffer Overflow Exploits and Mitigation
Includes vulnerable C programs, x86 exploit opcode for the Netwide assembler.

- The Netwide Assembler is an assembler and disassembler for the Intel x86 architecture. It can be used to write 16-bit, 32-bit and 64-bit programs.

### Docker Instructions

- Build the Docker image using the following command in the same directory where the Dockerfile is located:

```
docker build -t ubuntu_image .
```

- Once the image is built, you can run a container based on this image. This command will start a new container with the Ubuntu image containing Emacs and the specified options enabled. 

```
docker run -it ubuntu_image
```
- To start a docker container
```
docker exec -it strange_cohen /bin/bash
```
---

### GNU Debugger
- Once gdb is installed, you should be able to use it to debug the core dump. For example:

```
gdb <executable_file> <core_dump_file>
```
- To enable debugging symbols during compilation:
  
```
gcc -g -o bufferOverflow bufferOverflow.c
```
---
### Disable stack smashing protection

- To disable stack smashing protection, you can use the ```-fno-stack-protector``` flag during compilation. This flag tells the compiler not to insert stack protection mechanisms, such as stack canaries, into the binary.

```
gcc -o bufferOverflow bufferOverflow.c -fno-stack-protector
```
---
### Dockerfile

- You need to have installed the gcc-multilib package in order to do 32 bit cross-compilation. The package is already included in the Ubuntu image.

### Segmentation Core dumps and Allowing Buffer overflows 

- Run on the ubuntu terminal the following commands
```
GRUB_CMDLINE_LINUX="find_preseed=/preseed.cfg auto noprompt priority=critical locale=en_US noexec=off noexec32=off"
```
- Turn off randomize space:
```
echo "kernel.randomize_va_space=0" > /etc/sysctl.d/randomize_va_space.conf
```

- Enable core dumps
```
echo "kernel.core_pattern=core" > /etc/sysctl.d/core_pattern.conf
```

- Set ulimit to enable core dumps
```
ulimit -c unlimited
```

DO NOT RUN IN THIS STATE IN PRODUCTION

